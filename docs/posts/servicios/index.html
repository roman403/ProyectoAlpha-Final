<!DOCTYPE html>
<html lang="es">
    <head>
		
		
		
		<meta property="og:url" content="https://roman403.github.io/ProyectoAlpha-Final/posts/servicios/">
  <meta property="og:site_name" content="ALPHA">
  <meta property="og:title" content="SERVICIOS">
  <meta property="og:description" content="Nginx interno Configuración La instalación de Nginx será en la máquina de REDHAT.
Nos conectamos a la máquina mediante SSH. Y luego mediante el agent ssh entramos en la maquina redhat al no poder conectarnos directamente. Lo primero que hare sera instalar el nginx.
Ahora deberemos cambiar la configuración de SELinux a 0 para poder evitar cualquier fallo.
Enviamos los documentos html con el comando scp.
Ahora iremos al fichero de configuración de nginx.">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-02-09T12:19:03+01:00">
    <meta property="article:modified_time" content="2025-02-09T12:19:03+01:00">

	
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>SERVICIOS &middot; ALPHA</title>

		
		<link rel="stylesheet" href="/ProyectoAlpha-Final/css/style.css">
		<link rel="stylesheet" href="/ProyectoAlpha-Final/css/fonts.css">
		
		<link rel="icon" href="/ProyectoAlpha-Final/favicon.ico"/>
		<link rel="icon" type="image/png" sizes="32x32" href="/ProyectoAlpha-Final/images/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/ProyectoAlpha-Final/images/favicon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/ProyectoAlpha-Final/images/apple-touch-icon.png">

		
		<link href="" rel="alternate" type="application/rss+xml" title="ALPHA" />

		<script src="/ProyectoAlpha-Final/js/darkmode.js"></script>
	</head>

    <body>
        		<nav class="nav">
			<div class="nav-container">
				<a href="/ProyectoAlpha-Final/">
					
						<h2 class="nav-title">ALPHA</h2>
					
				</a>
				<ul>
    
    
        <li>
            <a href="/ProyectoAlpha-Final/arquitectura/">
                
                <span>arquitectura</span>
                
            </a>
        </li>
    
        <li>
            <a href="/ProyectoAlpha-Final/posts/">
                
                <span>Posts</span>
                
            </a>
        </li>
    
</ul>
			</div>
		</nav>

        <div id="darkModeToggle" onclick="toggleDarkMode()">
  &#9680; 
</div>

        

<main>
	


        <div class="post">
		<div class="post-info">
    <span>Written by</span>
        
        <br>
        <span>on&nbsp;</span><time datetime="2025-02-09 12:19:03 &#43;0100 CET">February 9, 2025</time>
</div>

		<h1 class="post-title">SERVICIOS</h1>
<div class="post-line"></div>

		

		<h2 id="nginx-interno">Nginx interno</h2>
<h3 id="configuración">Configuración</h3>
<p>La instalación de Nginx será en la máquina de REDHAT.</p>
<p>Nos conectamos a la máquina mediante SSH. Y luego mediante el agent ssh entramos en la maquina redhat al no poder conectarnos directamente. Lo primero que hare sera instalar el nginx.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/ImagenNGX4.png" alt=""></p>
<p>Ahora deberemos cambiar la configuración de SELinux a 0 para poder evitar cualquier fallo.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX5.png" alt=""></p>
<p>Enviamos los documentos html con el comando scp.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX6.png" alt=""></p>
<p>Ahora iremos al fichero de configuración de nginx.</p>
<p>En el configuraremos también varios usuarios, siendo los 5 integrantes del grupo (en verdad deberían de ser miembros del departamento de informática).</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX7.png" alt=""></p>
<p>Para poder usar el html tendremos que descargar la herramienta zip, esto es debido a que redhat no la tiene por defecto.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX8.png" alt=""></p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX9.png" alt=""></p>
<p>Ahora hay que crear la carpeta donde estarán nuestros html.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX10.png" alt=""></p>
<p>Para que todo funcione ahora deberemos activar de manera por defecto nginx.</p>
<p>Ahora en caso de que se apague el servidor nginx se iniciará sin tener que usar el start.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX11.png" alt=""></p>
<p>Para acceder tendremos que primero conectarnos por vpn. Las reglas de entrada de AWS ya están cambiadas.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX12.png" alt=""></p>
<h3 id="https">HTTPS</h3>
<p>Tenemos que crear un par de claves para añadirlo en la configuración.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX13.png" alt=""></p>
<h2 id="nginx-externo">Nginx externo</h2>
<h3 id="configuración">Configuración</h3>
<p>La instalación de Nginx será en la máquina de Ubuntu.</p>
<p>Nos conectamos a la máquina mediante SSH.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX14.png" alt=""></p>
<p>Y para instalarlo usaremos el comando apt install</p>
<h3 id="heading"></h3>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX15.png" alt=""></p>
<p>Para demostrar que el orden de los factores no altera el producto aquí usaremos el enabled antes que el start, pues el enable solo afecta al arranque y el start al uso actual.</p>
<p>Ahora si hacemos un status veremos como el servidor está encendido.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX16.png" alt=""></p>
<p>Para ahora que todo el mundo pueda acceder habilitamos en las reglas de entrada el puerto 80.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX17.png" alt=""></p>
<p>Podemos ver como ya están abiertos puertos como el 443 para el https y otros puertos para otros servicios.</p>
<p>Al ser un servidor que sirve a la red le decimos que escuche para todas las ip y en cualquier red.</p>
<p>Al buscar nuestra ip nos toparemos con la página predeterminada.</p>
<p>Editamos el fichero de configuración de Nginx del virtual host sin TLS.</p>
<h3 id="https-1">HTTPS</h3>
<p>Voy a instalar nano en red hat para editar</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX18.png" alt=""></p>
<p>Creamos un directorio /etc/nginx/ssl</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX19.png" alt=""></p>
<p>Para obtener un certificado oficial usamos un proveedor de certificados SSL como Let’s Encrypt.</p>
<p>Para Let’s Encrypt instalamos el cliente certbot y configuramos automaticamente SSL</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX20.png" alt=""></p>
<p>Configuración de Nginx para HTTPS</p>
<p>El el archivo /etc/nginx/nginx.conf editamos el bloque server para https.</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX21.png" alt=""></p>
<p>Al usar un certificado oficial como Let’s Encrypt ajustamos las rutas</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX22.png" alt=""></p>
<p>También redirigimos HTTP a HTTPS</p>
<p><img src="https://roman403.github.io/ProyectoAlpha-Final/imagenNGX23.png" alt=""></p>
<p>Guardamos y reiniciamos Nginx</p>


		
	</div>

	<div class="pagination">
		<a href="/ProyectoAlpha-Final/posts/vpn/" class="left arrow">&#8592;</a>
		<a href="/ProyectoAlpha-Final/posts/dns/" class="right arrow">&#8594;</a>

		<a href="#" class="top">Top</a>
	</div>
</main>


        		<footer>
			
			<span>
			&copy; <time datetime="2025-02-09 16:28:58.1714104 &#43;0100 CET m=&#43;0.090382501">2025</time> . Made with <a href='https://gohugo.io'>Hugo</a> using the <a href='https://github.com/EmielH/tale-hugo/'>Tale</a> theme.
			</span>
		</footer>

    </body>
</html>
